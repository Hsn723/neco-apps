apiVersion: v1
kind: ConfigMap
metadata:
  name: teleport-config
  namespace: bastion
  labels:
    app.kubernetes.io/name: teleport
data:
  teleport.yaml: |
    auth_service:
      authentication:
        second_factor: "off"
        type: local
      cluster_name: teleport.gcp0.dev-ne.co
      enabled: true
      public_addr: teleport.gcp0.dev-ne.co:3025
    proxy_service:
      enabled: true
      kubernetes:
        enabled: true
        listen_addr: 0.0.0.0:3026
      listen_addr: 0.0.0.0:3023
      public_addr: teleport.gcp0.dev-ne.co
      web_listen_addr: 0.0.0.0:3080
    ssh_service:
      enabled: false
      public_addr: teleport.gcp0.dev-ne.co:3022
    teleport:
      data_dir: /var/lib/teleport
      log:
        output: stderr
        severity: DEBUG
      storage:
        type: dir
