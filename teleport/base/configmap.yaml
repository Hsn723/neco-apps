apiVersion: v1
kind: ConfigMap
metadata:
  name: teleport-config
  labels:
    app.kubernetes.io/name: teleport
data:
  teleport.yaml: |
    auth_service:
      authentication:
        second_factor: otp
        type: local
      cluster_name: teleport.example.com
      enabled: true
      public_addr: teleport.example.com:3025
    proxy_service:
      enabled: true
      https_cert_file: /var/lib/certs/tls.crt
      https_key_file: /var/lib/certs/tls.key
      kubernetes:
        enabled: true
        listen_addr: 0.0.0.0:3026
      listen_addr: 0.0.0.0:3023
      public_addr: teleport.example.com
      web_listen_addr: 0.0.0.0:3080
    ssh_service:
      enabled: false
      public_addr: teleport.example.com:3022
    teleport:
      data_dir: /var/lib/teleport
      log:
        output: stderr
        severity: DEBUG
      storage:
        type: dir

