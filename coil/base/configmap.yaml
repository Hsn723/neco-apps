kind: ConfigMap
apiVersion: v1
metadata:
  name: coil-config
  namespace: kube-system
data:
  # The CNI network configuration to install on each node.
  cni_netconf: |-
    {
        "cniVersion": "0.3.1",
        "name": "k8s-pod-network",
        "plugins": [
          {
            "type": "coil",
            "coild": "http://127.0.0.1:9383"
          },
          {
            "type": "tuning",
            "mtu": 1400
          },
          {
            "type": "portmap",
            "snat": true,
            "capabilities": {"portMappings": true}
          }
        ]
    }

  # CNI network configuration may be given by a file.
  #cni_netconf_file: "/path/to/10-coil.conflist"

  # Installation directory for CNI configuration file.
  # Default: "/etc/cni/net.d"
  #cni_etc_dir: "/etc/cni/net.d"

  # Installation directory for CNI plugin.
  # Default: "/opt/cni/bin"
  #cni_bin_dir: "/opt/cni/bin"

  # Path to `coil`
  # Default: "/coil`
  #coil_path: "/coil"
