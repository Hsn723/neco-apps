apiVersion: operator.victoriametrics.com/v1beta1
kind: VMRule
metadata:
  name: registry
  namespace: monitoring
spec:
  groups:
    - name: registry
      rules:
        - alert: RegistryElasticDown
          expr: |
            absent(up{job="registry", registry="elastic"} == 1)
          labels:
            severity: error
          for: 15m
          annotations:
            summary: registry elastic is down.
            runbook: TBD
        - alert: RegistryGhcrDown
          expr: |
            absent(up{job="registry", registry="ghcr"} == 1)
          labels:
            severity: error
          for: 15m
          annotations:
            summary: registry ghcr is down.
            runbook: TBD
        - alert: RegistryQuayDown
          expr: |
            absent(up{job="registry", registry="quay"} == 1)
          labels:
            severity: error
          for: 15m
          annotations:
            summary: registry quay is down.
            runbook: TBD
