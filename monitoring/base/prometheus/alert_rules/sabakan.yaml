groups:
  - name: sabakan
    rules:
      - alert: SabakanMachineUnhealthy
        annotations:
          summary: "The status of machine got Unhealthy. Address: {{ $labels.address }}, Serial: {{ $labels.serial }}"
          runbook: TBD
        expr: |
          sum(sabakan_machine_status{status="unhealthy"}) by (address, serial) > 0
        for: 15m
        labels:
          severity: warning
      - alert: SabakanMachineUnreachable
        annotations:
          summary: "The status of machine got Unreachable. Address: {{ $labels.address}, Serial: {{ $labels.serial }}"
          runbook: TBD
        expr: |
          sum(sabakan_machine_status{status="unreachable"}) by (address, serial) > 0
        for: 15m
        labels:
          severity: warning
